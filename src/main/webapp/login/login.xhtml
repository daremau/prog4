<?xml version="1.0" encoding="UTF-8"?>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/JSP_Servlet/XHtml.xhtml to edit this template
-->
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    <h:head>
        <title>Login</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
        <h:outputStylesheet name="css/jsfcrud.css"/>
    </h:head>
    <h:body>
        <section class="vh-100">
            <div class="container py-5 h-100">
                <div class="row d-flex justify-content-center align-items-center h-100">
                    <div class="col-12 col-md-8 col-lg-6 col-xl-5">
                        <div class="card shadow-5-strong" style="border-radius: 1rem;">
                            <div class="card-header text-center gradient-custom">
                                <h2 class="m-2 azul" style="color: white">Inicie Sesión</h2>
                            </div>
                            <div class="card-body p-5">
                                <form action="Servlet_login" method="post">
                                    
                                    <!--usuario-->
                                    <div class="form-outline mb-4">
                                        <label class="l-bold" style="font-size: larger">Usuario:</label>
                                        <input type="text" id="usuario" name="usuario" class="form-control form-control-lg" placeholder="Ingrese su usuario" onkeyup="verificarInputs()"/>
                                    </div>
                                    
                                    <!--contrasena-->
                                    <div class="form-outline mb-4">
                                        <label class="l-bold" style="font-size: larger">Contraseña: </label>
                                        <div class="input-group mb-3">
                                            <input type="password" id="contrasena" name="contrasena" class="form-control form-control-lg" placeholder="Ingrese su contraseña" onkeyup="verificarInputs()"/>
                                            <div class="input-group-append">
                                                <button id="toggleIcon" class="btn btn-primary" onclick="togglePasswordVisibility()" type="button"><ion-icon class="mt-1 ml-1 pl-2" name="eye-off-outline" style="font-size: large"></ion-icon></button>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <h:panelGroup rendered="#{not empty requestScope.errorMessage}">
                                        <div style="color: red" class="mb-1 text-center">#{requestScope.errorMessage}</div>
                                    </h:panelGroup>                                  

                                    <button id="btnIniciarSesion" type="submit" class="validar-btn btn btn-connection btn-block btn-primary btn-lg" disabled="">Iniciar Sesión</button>

                                    <br></br><br></br>
                                    
<!--                                    <div class="text-center">
                                        <h:link style="font-size: medium" outcome="/login/recoverPassword" value="¿Olvidó su contraseña?"/>
                                    </div>-->
                                                                        
                                    <!--<p class="azul" style="font-size: medium;">¿Aún no tenés una cuenta? <h:link class="sin-estilo" style="font-size: medium" outcome="/register" value="Regístrate aquí"/></p>-->
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <script type="text/javascript">
            //<![CDATA[
            function verificarInputs() {
                var usuario = document.getElementById('usuario').value.trim();
                var contrasena = document.getElementById('contrasena').value.trim();
                var btnLogin = document.getElementById('btnIniciarSesion');

                // Verificar si ambos campos están llenos
                if (usuario !== '' && contrasena !== '') {
                    btnLogin.disabled = false; // Habilita el botón
                } else {
                    btnLogin.disabled = true; // Deshabilita el botón
                }
            }
            
            function togglePasswordVisibility() {
                var passwordInput = document.getElementById('contrasena');
                var toggleIcon = document.getElementById('toggleIcon');
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.innerHTML = '<ion-icon class="mt-1 pl-3" name="eye-outline" style="font-size: x-large">'; // Cambia a un ícono que indique "ocultar" (puedes usar un ícono de FontAwesome o similar)
                } else {
                    passwordInput.type = "password";
                    toggleIcon.innerHTML = '<ion-icon class="mt-1 pl-3" name="eye-off-outline" style="font-size: x-large">'; // Cambia de nuevo al ícono de "mostrar"
                }
            }
            //]]>
        </script>
        <script src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    </h:body>
</html>
